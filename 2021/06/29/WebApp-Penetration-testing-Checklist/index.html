<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>WebApp Penetration testing Checklist | Jumbo&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="前言今天和老板聊天的时候，老板分享了关于做渗透测试的时候甲方和乙方的态度以及责任。 作为乙方，你所需要提供的就是我这次渗透测试中我发现了漏洞，并且对没有发现的漏洞进行两三页的免责申明，说明。起码我以前的公司是这样的。其实这个也是很常见的，我之前的公司人员参差不齐，有时候你只需要找到一两个问题之后，就可以翘高脚了，反正我报告给得出，老板也不是很懂。 但是作为甲方，那就大大的不同了。如果在甲方你也是只">
<meta property="og:type" content="article">
<meta property="og:title" content="WebApp Penetration testing Checklist">
<meta property="og:url" content="http://bymuzili.com/2021/06/29/WebApp-Penetration-testing-Checklist/index.html">
<meta property="og:site_name" content="Jumbo&#39;s blog">
<meta property="og:description" content="前言今天和老板聊天的时候，老板分享了关于做渗透测试的时候甲方和乙方的态度以及责任。 作为乙方，你所需要提供的就是我这次渗透测试中我发现了漏洞，并且对没有发现的漏洞进行两三页的免责申明，说明。起码我以前的公司是这样的。其实这个也是很常见的，我之前的公司人员参差不齐，有时候你只需要找到一两个问题之后，就可以翘高脚了，反正我报告给得出，老板也不是很懂。 但是作为甲方，那就大大的不同了。如果在甲方你也是只">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-06-29T14:53:31.000Z">
<meta property="article:modified_time" content="2022-03-02T13:12:03.440Z">
<meta property="article:author" content="Jumbo">
<meta property="article:tag" content="Notes">
<meta property="article:tag" content="Life">
<meta property="article:tag" content="Reflection">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Jumbo's blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jumbo&#39;s blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Small Fly Dream</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://bymuzili.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-WebApp-Penetration-testing-Checklist" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/29/WebApp-Penetration-testing-Checklist/" class="article-date">
  <time class="dt-published" datetime="2021-06-29T14:53:31.000Z" itemprop="datePublished">2021-06-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      WebApp Penetration testing Checklist
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>今天和老板聊天的时候，老板分享了关于做渗透测试的时候甲方和乙方的态度以及责任。</p>
<p>作为乙方，你所需要提供的就是我这次渗透测试中我发现了漏洞，并且对没有发现的漏洞进行两三页的免责申明，说明。起码我以前的公司是这样的。其实这个也是很常见的，我之前的公司人员参差不齐，有时候你只需要找到一两个问题之后，就可以翘高脚了，反正我报告给得出，老板也不是很懂。</p>
<p>但是作为甲方，那就大大的不同了。如果在甲方你也是只每天翘脚，交一两个漏洞，到时候出事了，那么就真的完蛋了。对比甲方和乙方的不同之处，最大的不同点就是甲方还需要管售后，甚至是售前，而且还是无限期的。（保质到你辞职）</p>
<p>那么自然而然的老板问了我了一个问题，如何确保你自己做的渗透测试做完了，漏洞就不存在了呢？首先我的第一反应就是，其实我做完了测试，我也不能保证没有别的问题了，我只能保证在我的能力范围内已经没有问题了。但是如果这是在甲方的话，这是非常不可取的。你每天努力努力地工作做测试，到时候卷铺盖走人的还是你。</p>
<p>对于这一点，我能给出一个比较简单的近似解。假如现在让你做测试，给你一台电脑，然后装了一堆软件，然后说，那你测吧。多多少少，尤其是在时间紧张的情况下，你很容易漏某些个测试。并不是你不会，而且是你忘记了，这种能力范围内的错误是绝对不允许的。（卷铺盖警告）</p>
<p>因此，我个人的解决办法是对某项特定的测试整理一个checklist，在自己认知的范围内，最大程度上的去做好这个测试。这个checklist里面必须包含所有的关键点，这样能够让你的渗透测试的完整性大大提高。</p>
<p>我本身比较常做的测试是网络应用安全测试以及代码审计，所以我进行了详细的搜索并且结合自己的经验，给出了一个Web App Penetration Test 的 checklist</p>
<p><code>（以下说的每一步基本上有过做测试经验的人都懂，但是实际操作起来的时候可能就没有那么脑子清楚了。如果有什么不清楚或者没听过的名词，建议学习一下-说实话有些我自己也不是很清楚）</code></p>
<p>测试通常会有黑盒白盒灰盒，黑盒会包括所有的步骤。所以一下步骤是基于黑盒测试，别的类型的测试适当去除某些步骤就可以啦。</p>
<h1 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h1><ul>
<li>通过搜索引擎来进行勘探</li>
<li>对网页服务器的指纹信息进行收集</li>
<li>对网页应用的代码进行调查，查看</li>
<li>查看网页应用的所有资产，例如旁站</li>
<li>如果有登录功能的话，尝试枚举登录有红</li>
<li>查实发现各种终端，因为可能不止有一个</li>
<li>通过各种手段查找admin的登录入口</li>
<li>制造网页报错，尝试从报错中查看一些敏感信息，比如吴福气类型以及所使用的语言</li>
<li>采集目标网站信息</li>
<li>尝试找出网络应用的架构（前段，后端）</li>
<li>尝试找出不同模块直接的联系，交流方式</li>
<li>还有一些别的信息，比如数据流，路径之类</li>
</ul>
<h1 id="登录系统"><a href="#登录系统" class="headerlink" title="登录系统"></a>登录系统</h1><ul>
<li>测试JWT token<ul>
<li>签名认证<ul>
<li>有时候none签名可以被接受</li>
<li>弱HMAC keys</li>
<li>HMAC vs Public Key Confusion</li>
<li><a target="_blank" rel="noopener" href="https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/06-Session_Management_Testing/10-Testing_JSON_Web_Tokens">https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/06-Session_Management_Testing/10-Testing_JSON_Web_Tokens</a></li>
</ul>
</li>
</ul>
</li>
<li>绕过登录<ul>
<li>爆破目录</li>
<li>SQLi</li>
<li>会话ID的预测</li>
</ul>
</li>
<li>用户名枚举</li>
<li>登录口令通过HTTP传播，进行拦截海阔去</li>
<li>系统的默认登录口令对</li>
<li>注册过程的问题<ul>
<li>Token通过明文传播</li>
<li>由于输入的字符串过大导致的系统瘫痪 DoS</li>
<li>把XSS payload放入注册用户的每个input field</li>
</ul>
</li>
<li>弱口令爆破</li>
<li>测试密码重置系统<ul>
<li>尝试在请求中加入第二个email地址</li>
<li>查看是否有令牌通过HTTP明文传播</li>
<li>预测弱令牌</li>
<li>用户是否被强制重新认证</li>
</ul>
</li>
<li>会话ID在URL里面</li>
<li>登出需要把会话令牌给无效化</li>
<li>检查是否有强制的timeout for session</li>
<li>多次登录后被锁，解锁是否容易简单</li>
<li>可替代的登录方式<ul>
<li>SSO，Oauth</li>
<li>手机登录</li>
<li>Token登录</li>
</ul>
</li>
<li>Session Puzzling<ul>
<li><a target="_blank" rel="noopener" href="https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/06-Session_Management_Testing/08-Testing_for_Session_Puzzling">https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/06-Session_Management_Testing/08-Testing_for_Session_Puzzling</a></li>
</ul>
</li>
<li>会话劫持<ul>
<li><a target="_blank" rel="noopener" href="https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/06-Session_Management_Testing/09-Testing_for_Session_Hijacking">https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/06-Session_Management_Testing/09-Testing_for_Session_Hijacking</a></li>
</ul>
</li>
</ul>
<h1 id="输入认证"><a href="#输入认证" class="headerlink" title="输入认证"></a>输入认证</h1><ul>
<li>XSS<ul>
<li>Reflected XSS</li>
<li>Stored XSS</li>
<li>Blind XSS</li>
<li>DOM XSS</li>
</ul>
</li>
<li>SQLi</li>
<li>XXE</li>
<li>Command injection</li>
<li>SSTI/CSTI<ul>
<li>Insert ${7*7} into every field you see, if it resolves, investigate further</li>
</ul>
</li>
<li>SSRF<ul>
<li>Add burp collaborator URL in everywhere that URL resolves</li>
</ul>
</li>
<li>HTTP parameter polution<ul>
<li><a target="_blank" rel="noopener" href="https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/07-Input_Validation_Testing/04-Testing_for_HTTP_Parameter_Pollution">https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/07-Input_Validation_Testing/04-Testing_for_HTTP_Parameter_Pollution</a></li>
</ul>
</li>
<li>LDAP injection</li>
<li>SSI (server side includes injection)</li>
<li>XPath injection</li>
<li>Clickjacking</li>
<li>GraphQL testing</li>
</ul>
<h1 id="普遍漏洞利用"><a href="#普遍漏洞利用" class="headerlink" title="普遍漏洞利用"></a>普遍漏洞利用</h1><ul>
<li>RFI/LFI</li>
<li>不安全的会话管理</li>
<li>攻击/接管旁站、子站</li>
<li>查看利用用户权限，看看是否可以变成或者给与admin权限</li>
<li>测试cookie的特征<ul>
<li>铭感的cookie应该有secure和httpOnly的flag</li>
<li>正确设置域名和路径</li>
<li>有过期的时间</li>
<li>Same Site政策</li>
</ul>
</li>
<li>CSRF测试<ul>
<li>针对一些敏感的功能</li>
</ul>
</li>
<li>文件上传测试<ul>
<li>上传恶意文档（比如eicar）</li>
<li>上传限制的绕过<ul>
<li>修改上传文件类型（大小写，解析漏洞）</li>
<li>使用null班ytes</li>
</ul>
</li>
</ul>
</li>
<li>从浏览器缓存查看敏感信息<ul>
<li>对敏感的网站，查看cache control头部</li>
</ul>
</li>
<li>查看是否存在弱的加密协议<ul>
<li>可以使用关键词搜索，MD4,MD5,RC4, Blowfish, SHA-1</li>
</ul>
</li>
</ul>
<p>以上都是列举的都是技术上的漏洞，但是一个漏洞真正发生的时候，起因很多时候都不是因为技术上存在什么漏洞，而是业务逻辑流程差生了漏洞，这种漏洞的查看还需要要求测试员对产品有一定的了解</p>
<h1 id="业务逻辑缺陷"><a href="#业务逻辑缺陷" class="headerlink" title="业务逻辑缺陷"></a>业务逻辑缺陷</h1><ul>
<li>数据认证和清洁<ul>
<li>需要对进来的数据进行清洁，并且与业务内部的进行对比。简单的例子就是一般性数量的地方不可以是负数</li>
<li>在做好本地的验证后，要确保数据也没有办法在服务器端的验证被绕过。本地的验证只要有一定的工具，还是非常容易绕过的。</li>
<li>输入不合理的数据，比如在电话号码的地方输入英文字母，查看是否被接受</li>
</ul>
</li>
<li>测试隐藏的变量并且进行修改，看看是否会有影响。</li>
<li>查看是否有些数据是否只在前段隐藏</li>
<li>查看被disable的地方是否只是在前端被disable（有些网站在你信息输入不完整的时候，提交的按钮是灰色并且不可按的。这个时候可以通过在浏览器修改disable的值来强行让它变得可以按，从而达到绕过的目的）</li>
<li>完整性测试<ul>
<li>确认系统能接受那些类型的数据，以及不能够接受那些，然后测试</li>
<li>查看每个用户的权限是否可以修改，读取数据，可以进行越权的测试</li>
<li>在业务逻辑不允许的情况下尝试添加，更改，删除数据记录</li>
</ul>
</li>
<li>测试有时效性的功能<ul>
<li>有些功能是有时效性的，比如收到的验证码。查实在过了时效之后还是否可以生效</li>
<li>购物网站的优惠券可能已经过期了，但是这个过期可能只是网站前端的检查，绕过后可能依旧可以使用</li>
</ul>
</li>
<li>查看各项功能是否完整（不一定是安全上scope，甲方可能更加注重这一些，会影响这个品牌的影响力）</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://bymuzili.com/2021/06/29/WebApp-Penetration-testing-Checklist/" data-id="cl09zqzqq000fksgxg9kr2lza" data-title="WebApp Penetration testing Checklist" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Life/" rel="tag">Life</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Notes/" rel="tag">Notes</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Reflection/" rel="tag">Reflection</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/07/07/Fortify%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Fortify学习笔记
        
      </div>
    </a>
  
  
    <a href="/2021/06/24/%E4%B8%AD%E5%9B%BD%E8%8F%9C%E5%88%80%EF%BC%8C%E8%9A%81%E5%89%91%EF%BC%8Cfofa/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">中国菜刀，蚁剑，fofa</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/For-Kelly/" rel="tag">For Kelly</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Life/" rel="tag">Life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Notes/" rel="tag">Notes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reflection/" rel="tag">Reflection</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/For-Kelly/" style="font-size: 10px;">For Kelly</a> <a href="/tags/Life/" style="font-size: 13.33px;">Life</a> <a href="/tags/Notes/" style="font-size: 20px;">Notes</a> <a href="/tags/Reflection/" style="font-size: 16.67px;">Reflection</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/01/26/letter-1/">Letter-1</a>
          </li>
        
          <li>
            <a href="/2021/07/11/%E9%9D%A2%E8%AF%95%E5%AE%98-Tips/">面试官 Tips</a>
          </li>
        
          <li>
            <a href="/2021/07/07/Fortify%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Fortify学习笔记</a>
          </li>
        
          <li>
            <a href="/2021/06/29/WebApp-Penetration-testing-Checklist/">WebApp Penetration testing Checklist</a>
          </li>
        
          <li>
            <a href="/2021/06/24/%E4%B8%AD%E5%9B%BD%E8%8F%9C%E5%88%80%EF%BC%8C%E8%9A%81%E5%89%91%EF%BC%8Cfofa/">中国菜刀，蚁剑，fofa</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 Jumbo<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>